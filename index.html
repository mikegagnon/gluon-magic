<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="">
    <meta name="author" content="Michael N. Gagnon">
    <meta name="generator" content="Hugo 0.104.2">
    <title>Gluon Magic</title>

    <link rel="canonical" href="https://getbootstrap.com/docs/5.2/examples/heroes/">

    

    

<link href="css/bootstrap.min.css" rel="stylesheet">

    <!-- Favicons -->
<link rel="icon" href="img/favicon.jpg">
<meta name="theme-color" content="#712cf9">


    <style>

      .highlight {
        background-color: yellow;
      }
      .bd-placeholder-img {
        font-size: 1.125rem;
        text-anchor: middle;
        -webkit-user-select: none;
        -moz-user-select: none;
        user-select: none;
      }

      @media (min-width: 768px) {
        .bd-placeholder-img-lg {
          font-size: 3.5rem;
        }
      }

      .b-example-divider {
        height: 3rem;
        background-color: rgba(0, 0, 0, .1);
        border: solid rgba(0, 0, 0, .15);
        border-width: 1px 0;
        box-shadow: inset 0 .5em 1.5em rgba(0, 0, 0, .1), inset 0 .125em .5em rgba(0, 0, 0, .15);
        margin-bottom: 15px; 
      }

      .b-example-vr {
        flex-shrink: 0;
        width: 1.5rem;
        height: 100vh;
      }

      .bi {
        vertical-align: -.125em;
        fill: currentColor;
      }

      .nav-scroller {
        position: relative;
        z-index: 2;
        height: 2.75rem;
        overflow-y: hidden;
      }

      .nav-scroller .nav {
        display: flex;
        flex-wrap: nowrap;
        padding-bottom: 1rem;
        margin-top: -1px;
        overflow-x: auto;
        text-align: center;
        white-space: nowrap;
        -webkit-overflow-scrolling: touch;
      }
    </style>

    
    <!-- Custom styles for this template -->
    <link href="css/heroes.css" rel="stylesheet">


  </head>
  <body>
    
<main>

    <div class="px-4 py-5 my-5 text-center">
    <h1 class="display-5 fw-bold">Gluon Magic</h1>
    <div class="col-lg-6 mx-auto">
      <p class="lead mb-4">See also: <a href="https://mikegagnon.github.io/gluon">Gluon Spoiler</a></p>

      <div id="code" style="display: none; text-align: left;">
          <div id="code-buttons">
            <p><button type="button" class="btn btn-outline-primary btn-lg px-4 gap-3" onclick="codeClick('index')">Index of all cards</button></p>
          </div>

          <div id="index-wrapper" class='code-wrapper' style="display: none">
          <h1>Index</h1>
          <div id="index"></div>
          </div>

          <div id="my-topic" class='code-wrapper' style="display: none">
          </div>
          
          <h1 id="code-h1" style="display: none">Card selector</h1>
      </div>

      <div id="workspace"></div>
      <!--<div class="b-example-divider" style="margin-bottom: 40px; margin-top: 40px;"></div>-->

      <div>
        <center>
          <br><br><br><br>
          Link to this page:<br>
          <div id="myqrcode"></div>
          <p style="margin-top: 100px;"><a href="index.html">Start over</a></p>
        </center>
      </div>
    </div>
  </div>

  <!--<div class="b-example-divider"></div>-->
 

</main>


    <script src="js/bootstrap.bundle.min.js"></script>
    <script src="js/jquery-3.6.3.min.js"></script>
    <script src="js/qrcode.min.js"></script>

    
    
    <script type="text/javascript">

      function codeClick(code) {
        $(".code-wrapper").css('display', 'none');
        if (code === 'index') {
          $("#index-wrapper").css('display', 'block');
        } else {
          let topic;
          for (const t of DECK.topics) {
            if (t.id === code) {
              topic = t;
            }
          }

          console.log(topic);

          $("#my-topic").html(`
            <div id="my-topic" class='code-wrapper'>
              <h1>${topic.name}</h1>
              <div id="my-topic-index"></div>
            </div>
          `);

          $("#my-topic").css('display', 'block');


          for (const card of topic.cards) {
            const [suit, val] = card;

            let color = 'danger';
            if (suit === 'club' || suit === 'spade') {
              color = 'dark';
            }

            let disabled = ''
            let name;
            if (!(val in DECK.cards[suit])) {
              disabled = 'disabled';
              name = '';
            } else {
              name = DECK.cards[suit][val].name;
            }

            const text = name;


            const button = `
              <button type="button" class="suit suit-club btn btn-${color} btn-sm px-4 gap-3" onclick="cardClick('${suit}', '${val}')" ${disabled}>${UNI[suit]} ${val}</button>
            `
            const entry = `

              <p>${button} ${text}</p>

            `;

            $("#my-topic-index").append(entry);
          }

        /*for (const suit of SUITS) {
          for (const val of VALS) {
            if (val === 'JR' || val === 'JB') {
              continue;
            }



            let color = 'danger';
            if (suit === 'club' || suit === 'spade') {
              color = 'dark';
            }

            let disabled = ''
            let name;
            if (!(val in DECK.cards[suit])) {
              disabled = 'disabled';
              name = '';
            } else {
              name = DECK.cards[suit][val].name;
            }

            const text = name;


            const button = `
              <button type="button" class="suit suit-club btn btn-${color} btn-sm px-4 gap-3" onclick="cardClick('${suit}', '${val}')" ${disabled}>${UNI[suit]} ${val}</button>
            `
            const entry = `

              <p>${button} ${text}</p>

            `;

            $("#index").append(entry);
          }
        }*/

        }
      }

      let CODE = false;
      const SUITS = ['heart', 'diamond', 'club', 'spade'];
      const VALS = ['A', 'K', 'Q', 'J', '10', '9', '8', '7', '6', '5', '4', '3', '2', 'JR', 'JB'];
      const UNI = {
        'heart': '♥',
        'diamond': '♦',
        'club': '♣',
        'spade': '♠'
      };

      const DECKS = [
        /*{
          n: 0,
          id: 'gluon_spoiler', // cannot have hyphens in deck id
          deckTop: `
            <h1>Gluon Spoiler</h1>
            <p><a href="https://mikegagnon.github.io/gluon/">Gluon Spoiler online book</a></p>
            <p>Trailer:</p>
            <iframe width="560" height="315" src="https://www.youtube.com/embed/2tBC-aHbeHg" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen></iframe>`,
          cardbottomhtml:
            `<p><a href="https://mikegagnon.github.io/gluon/">Gluon Spoiler online book</a></p>
            `,
          cards: {
            'joker': {

            },
            'spade': {
              'A': {
                filenames: [],
                tophtml: `<h1 class="display-5 fw-bold">Ace of spades</h1>
                <h3>CNWDI: Critical Nuclear Weapon Design Information</h3>

                <div style="text-align: left">

                <p style="font-size: 80%;">From the online book <a href="https://mikegagnon.github.io/gluon/index.html#i-once">Gluon Spoiler</a>:</p>
                <p class="lead mb-4">I once hacked the United States nuclear-warfare defense system, during a live-fire war game (<a href="https://mikegagnon.github.io/gluon/index.html#zbg">ZBG</a> <a href="img/zbg/zbg-233-219.jpg">pg. 219</a>).</p>

                <p class="lead mb-4">Proof that the war game was <i>live fire</i>: see pages 20 and 34 of <a href="https://www.dropbox.com/sh/w88813zihcygbze/AADd8n7FoF-O6HGd74kpiVXWa/Annual_Report_2010.pdf?dl=0">MIT Lincoln Laboratory's 2010 report</a>.
                </p>

                <img src="https://mikegagnon.github.io/gluon/img/annual.jpg" style="width:100%; margin: 30px;" alt="todo">
                

                <p class="lead mb-4">I authored an unclassified report on that war game titled <a href="https://www.dropbox.com/sh/w88813zihcygbze/AAAbKi4dPhA9DqFoyj0gbPGqa/isarcs.pdf?dl=0">Towards Net-Centric Cyber Survivability for Ballistic Missile Defense</a>.
                </div>
                `,
                bottomhtml: ``,
              },
              '2': {
                filenames: ['misc/harvard-transcript.png'],
                tophtml: `<h1 class="display-5 fw-bold">2 of spades</h1>
                <h3>Harvard</h3>

                <p style="font-size: 80%;">From <a href="https://mikegagnon.github.io/gluon/index.html#harvard">Gluon Spoiler</a> and <a href="https://mikegagnon.github.io/gluon/index.html#dbg">Deluxe Beer Garden</a></p>

                <div style="text-align: left">
                <p class="lead mb-4"><a name="harvard">I have</a> a master’s degree from Harvard. I photoshopped the photo for my student ID, before I submitted it. Lol!
                </p>
                <center>
                  <a href="https://mikegagnon.github.io/gluon/index.html#dbg"><img src="https://mikegagnon.github.io/gluon/img/harvard.jpg" style="width:100%; " alt="I actually got a perm for this photo. My smile is quirky. DBG 68. Lol, Prof. Margo Seltzer was the only one who ever commented on it. She had a roster with photos, and eventually she was like, 'Oh, that's you!' She's great. One of my favorite all-time professors."></a>
                </center>

                </div>
                `,
                bottomhtml: `
                <div style='text-align:left;'>
                <p>Here are some homework assignments I completed at Harvard:</p>
                  <ol>
                    <li><a href="https://www.dropbox.com/s/dazqbgq6zo4tfz4/algcomplex_paper.pdf?dl=0"> CS 252 Final paper: Algorithmic-Complexity Security Policies</a></li>
                    <li><a href="https://www.dropbox.com/s/6jkwbnwvt314vn1/bouncer.pdf?dl=0">Bouncer</a></li>
                    <li><a href="https://www.dropbox.com/s/dw5aw99p4rs5ip0/yamba.pdf?dl=0">Yamba</a></li>
                    <li><a href="https://www.dropbox.com/s/4am68g2e8b78hay/heliox.pdf?dl=0">Heliox</a></li>
                    <li><a href="https://www.dropbox.com/s/eg7884sftpccau8/cloud-browser.pdf?dl=0">Cloud Browser</a></li>
                    <li><a href="https://www.dropbox.com/s/7k7t5m6vqyeofzq/hw5.pdf?dl=0">CS 152, Homework Assignment 5</a></li>
                    <li><a href="https://www.dropbox.com/s/b58bs8ie0s7lp05/cs220r_mgagnon_pset1.pdf?dl=0">CS 220: Problem Set 1</a></li>
                    <li><a href="https://www.dropbox.com/s/26sriz3e3s9rywy/cs222_assignment_3_mgagnon.pdf?dl=0">CS 222, Assignment 3</a></li>
                    <li><a href="https://www.dropbox.com/s/zto7upg2hdo8gp5/commentary_due_2010_11_12.pdf?dl=0">CS 253r, Commentary on A Comparison of Software and Hardware Techniques for x86 Virtualization, 2006</a></li>
                    <li><a href="https://www.dropbox.com/s/y2s1jkwm8sgzzvb/quiz1.pdf?dl=0">CS 261, Quiz 1</a></li>
                    <li><a href="https://www.dropbox.com/s/tu2lr8u8dp36r0a/GagnonProtocol.pdf?dl=0">CS 262, GagnonProtocol</a></li>
                    <li><a href="https://www.dropbox.com/s/uviohwvzbpxi5b7/mgagnon_stat110_hw11.pdf?dl=0">Stat 110, Ultimate Homework Assignment</a></li>
                    <li><a href="https://www.dropbox.com/s/cfryon193ihw07f/hw2.pdf?dl=0">Stat 111, Homework Assignment 2</a></li>
                  </ol>
                </div>

                `,
              },
              '3': {
                filenames: [],
                tophtml: `<h1 class="display-5 fw-bold">3 of spades</h1>
                  <h3>MIT Lincoln Laboratory</h3>

                  <p style="font-size: 80%;">From <a href="https://mikegagnon.github.io/gluon/index.html#mit-anyway">Gluon Spoiler</a> and <a href="https://mikegagnon.github.io/gluon/index.html#zbg">Zen Beer Garden</a> (see for example <a href="img/zbg/zbg-233-219.jpg">pg. 219</a>)</p>

                  <div style="text-align: left">
                    <p class="lead mb-4"><a name="mit-anyway">Anyway</a>, you might be wondering what MIT has to do with espionage and live-fire nuclear war games. I shall explain it clearly now (it’s been an open secret for a long time).<br><br>

                      Early in the Cold War the US Military and Congress collaborated to establish new private organizations controlled funded by the Federal Government and US Military. They are known as FFRDC’s (Federally Funded Research & Development Centers). Lincoln Laboratory (LL) is an FFRDC within MIT. LL is physically located within an Air Force base about 20 minutes north of MIT’s main campus.</p>


                      <p class="lead mb-4 highlight">Highlights:</p>

                      <ol>
                        <li>I worked at MIT Lincoln Laboratory for 4 years.</li>
                        <li>I designed nuclear weapons (Ace of spades)</li>
                        <li>MIT gave me a scholarship to attend Harvard (2 of spades)</li>
                        <li>I hacked a $20-billion US Army program (9 of spades)</li>
                      </ol>
                  </div>
                  `,
                bottomhtml: ``,
              },
              '4': {
                filenames: [],
                tophtml: `<h1 class="display-5 fw-bold">4 of spades</h1>
                  <h3>Hanscom Air Force Base</h3>

                  <p style="font-size: 80%;">From <a href="https://mikegagnon.github.io/gluon/index.html#mit-anyway">Gluon Spoiler</a> and <a href="https://mikegagnon.github.io/gluon/index.html#zbg">Zen Beer Garden</a> (see for example <a href="img/zbg/zbg-233-219.jpg">pg. 219</a>)</p>

                  <div style="text-align: left">
                    <p class="lead mb-4">
                      Early in the Cold War the US Military and Congress collaborated to establish new private organizations controlled funded by the Federal Government and US Military. They are known as FFRDC’s (Federally Funded Research & Development Centers). Lincoln Laboratory (LL) is an FFRDC within MIT. LL is physically located within an Air Force base [Hanscom Air Force Base] about 20 minutes north of MIT’s main campus.</p>


                      <p class="lead mb-4 highlight">Highlights:</p>

                      <ol>
                        <li>I worked at MIT Lincoln Laboratory for 4 years.</li>
                        <li>I designed nuclear weapons (Ace of spades)</li>
                        <li>MIT gave me a scholarship to attend Harvard (2 of spades)</li>
                        <li>I hacked a $20-billion US Army program (9 of spades)</li>
                      </ol>
                  </div>
                  `,
                bottomhtml: ``,
              },
              '5': {
                filenames: ['zbg/area51.png'],
                tophtml: `<h1 class="display-5 fw-bold">5 of spades</h1>
                  <h3>Area 51</h3>

                  <p style="font-size: 80%;">From <a href="https://mikegagnon.github.io/gluon/index.html#zbg">Zen Beer Garden</a> (see <a href="img/zbg/area51.png">pg. 218</a>)</p>

                  <div style="text-align: left">
                    <p class="lead mb-4">
                      My Dad held significant responsiblity regarding Area 51. It's a matter of public record. To quote ZBG  pg. 218:
                  </div>
                  `,
                bottomhtml: `My Dad and I never discuss Area 51. Don't ask.`,
              },
            }
          }
        },*/
        {
          n: 0,
          id: 'theory11',
          deckTop: `<h1>Theory 11</h1>`,
          cardbottomhtml: `
            <a href="https://www.youtube.com/channel/UCGPK6bqoOVkonz4cYpo3qBA">@mikegagnon3155</a><br>
            <a href="https://www.youtube.com/channel/UCvTCjYxkKlQNVwh8linImZQ">@alskdjflaksjdflkjsdf</a><br>
            <a href="https://www.youtube.com/channel/UClabGotXJjKeJdwhOlMI9lA">@zipinsley7365</a><br>
            <a href="https://www.youtube.com/channel/UCweluNl5hyW25RZvmzgADkw">@superhumansofboulder510</a>
            <br><br><br>
            `,
          topics: [
            {
              id: 'hacking',
              name: 'Hacking cards',
              cards: [['heart', 'A'], ['spade', 2]]
            },
          ],
          cards: {
            'joker' : {
              'JR' : {
                name: 'Gluon Spoiler trailer',
                filenames: [],
                tophtml: `<h1 class="display-5 fw-bold">Red Joker</h1>
                <h3>Gluon Spoiler trailer</h3>
                <div style="text-align: left">
                <p>A trailer for my online book, <a href="https://mikegagnon.github.io/gluon/index.html">Gluon Spoiler</a>:</p>
                </div>
                `,
                bottomhtml: `
                <iframe width="560" height="315" src="https://www.youtube.com/embed/2tBC-aHbeHg" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen></iframe>`,
              },
              'JB' : {
                name: 'TimeCop 1983 UFO',
                filenames: [],
                tophtml: `<h1 class="display-5 fw-bold">Black Joker</h1>
                <h3>TimeCop 1983 UFO</h3>
                <div style="text-align: left">
                <p>On Friday, February 17, 2023, at around 2:47 AM (local) near Matheson, Colorado, I spotted a UFO and filmed it. There are many lights in the video that are not UFO's, so don't be confused. The red lights seemed to be attached to the Earth. The blue light in the top right corner is just a reflection of my car's audio display. But, the blinking white light that seemed to be flying&mdash;well it really did seem to be airborne, and I couldn't identify it, therefore it's a UFO. I think airplanes have different blinking light patterns. Could have been a drone. Who knows. Here's the video, set to some music:</p>
                </div>
                `,
                bottomhtml: `<iframe width="560" height="315" src="https://www.youtube.com/embed/bbNNURijw9g?start=14" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen></iframe>`,
              },
            },
            'heart': {
              '2': {
                name: 'Pink cloud crier 2',
                filenames: [],
                tophtml: `<h1 class="display-5 fw-bold">2 of hearts</h1>
                <h3>Pink cloud crier 2</h3>
                <div style="text-align: left">
                <p>In Alcoholics Anonymous, the "pink cloud" is slang for a temporary blissful experience that sometimes comes along with an inspiring personal commitment to sobriety.</p>

                <p>I recorded this video spontaneously during a pink cloud event.</p>

                <p>This is the sequel to "Pink cloud crier" (10 of hearts).</p>
                </div>
                `,
                bottomhtml: `
                <iframe width="560" height="315" src="https://www.youtube.com/embed/cpF9z0BrMxo" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen></iframe>`,
              },
              '3': {
                name: 'Pan and Tinkerbell',
                filenames: [],
                tophtml: `<h1 class="display-5 fw-bold">3 of hearts</h1>
                <h3>Pan and Tinkerbell</h3>
                <div style="text-align: left">
                <p><a href="https://mikegagnon.github.io/gluon/index.html#tink">A PG-14 children's book</a></p>

                <p>See also Jack of spades.</p>
                </div>
                `,
                bottomhtml: ``,
              },
              '4': {
                name: 'Magic & Rationality',
                filenames: [],
                tophtml: `<h1 class="display-5 fw-bold">4 of hearts</h1>
                <h3>Magic & Rationality</h3>
                <div style="text-align: left">
                <p>The book <a href="https://mikegagnon.github.io/gluon/index.html#mr">Magic & Rationality</a> is all about the “supposed” secret to success, which claims: if you believe you will succeed, then you will succeed. Contains my best attempt at formally proving magician’s rationality, the theory that believers in the “supposed” secret (i.e. magicians) naturally team up to overcome selfishness.</p>
                </div>
                `,
                bottomhtml: ``,
              },
              '5': {
                name: 'The Gentle Way of War',
                filenames: [],
                tophtml: `<h1 class="display-5 fw-bold">5 of hearts</h1>
                <h3>The Gentle Way of War</h3>
                <div style="text-align: left">
                <p>The book <a href="https://mikegagnon.github.io/gluon/index.html#gentle">The Gentle Way of War</a> is a fictional novella, but it's inspired by true events.</p>
                <p>I really did attempt to negotiate a nuclear treaty with Iran. I really did attempt to conquer Earth. I begin the book by insulting my father for failing to receive a promotion to general in the Air Force. But, he’s actually the hero of the story, so the insult is merely used to establish a character arc. Essentially, I begged my father to learn my logic, so he could use it against me, and when he eventually did, he helped me realize I was suffering from delusions. </p>
                </div>
                `,
                bottomhtml: ``,
              },
              '6': {
                name: 'The Infinite Regression',
                filenames: [],
                tophtml: `<h1 class="display-5 fw-bold">6 of hearts</h1>
                <h3>The Infinite Regression</h3>
                <div style="text-align: left">
                <p>The book <a href="https://mikegagnon.github.io/gluon/index.html#inf">The Infinite Regression</a> is a fictional novella.</p>

                <p>When I first read this book to my dad, he exclaimed, “You can’t publish this! It’s autobiographical!” But, it’s actually my most fictional novella. He was just referring to the fact that the book explicitly takes place at MIT Lincoln Laboratory (7 of clubs), I really did end up at a psych ward (many times actually), I was a whistleblower while an employee at LL (though I wasn’t locked up for blowing a whistle), I’m obsessed with world peace, etc.</p>
                </div>
                `,
                bottomhtml: ``,
              },
              '7': {
                name: 'Drive from Crestone (full)',
                filenames: [],
                tophtml: `<h1 class="display-5 fw-bold">7 of hearts</h1>
                <h3>Drive from Crestone (full)</h3>
                <div style="text-align: left">
                <p>On February 18, 2023, I drove from Crestone, CO to Fort Collins, CO, and recorded
                some video diary entries.</p>
                </div>
                `,
                bottomhtml: `
                <iframe width="560" height="315" src="https://www.youtube.com/embed/qXTkXkAb8Gs" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen></iframe>`,
              },
              '9': {
                name: 'Once upon a dream, there became a rainbow...',
                filenames: [],
                tophtml: `<h1 class="display-5 fw-bold">9 of hearts</h1>
                <h3>Once upon a dream, there became a rainbow...</h3>
                <div style="text-align: left">
                <center><p>A lullaby</p></center>
                </div>
                `,
                bottomhtml: `<iframe width="560" height="315" src="https://www.youtube.com/embed/-7iLsHkV1GU" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen></iframe>`,
              },
              '10': {
                name: 'Pink cloud crier',
                filenames: [],
                tophtml: `<h1 class="display-5 fw-bold">10 of hearts</h1>
                <h3>Pink cloud crier</h3>
                <div style="text-align: left">
                <p>In Alcoholics Anonymous, the "pink cloud" is slang for a temporary blissful experience that sometimes comes along with an inspiring personal commitment to sobriety.</p>

                <p>I recorded this video spontaneously during a pink cloud event.</p>

                <p>This is the prequel to "Pink cloud crier 2" (2 of hearts).</p>
                </div>
                `,
                bottomhtml: `
                <iframe width="560" height="315" src="https://www.youtube.com/embed/xil6Nk1dnKg" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen></iframe>`,
              },
              'J': {
                name: 'Benny & Bobby',
                filenames: [],
                tophtml: `<h1 class="display-5 fw-bold">Jack of hearts</h1>
                <h3>Benny & Bobby</h3>
                <div style="text-align: left">
                <p>A little story about two friends who were both really good at running.</p>
                </div>
                `,
                bottomhtml: `
                <iframe width="560" height="315" src="https://www.youtube.com/embed/SoAQBkeicOQ" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen></iframe>`,
              },
              'Q': {
                name: 'Endless Lullaby',
                filenames: [],
                tophtml: `<h1 class="display-5 fw-bold">Queen of hearts</h1>
                <h3>Endless Lullaby</h3>
                <div style="text-align: left">
                <p>The beginning of an endless lullaby I wrote for The Dakini (see Ace of diamonds and 2 of spades).</p>
                </div>
                `,
                bottomhtml: `<iframe width="560" height="315" src="https://www.youtube.com/embed/zqAcsoEDgm0" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen></iframe>`,
              },
              'K': {
                name: 'In love with release review',
                filenames: [],
                tophtml: `<h1 class="display-5 fw-bold">King of hearts</h1>
                <h3>In love with release review</h3>
                <div style="text-align: left">
                <p>When I did classified work for the US government (see <a href="https://mikegagnon.github.io/gluon/#mit-anyway">Gluon Spoiler</a>), we had to go through "release review" whenever we wanted to publish something. Release review is also featured in the end of my first novella, <a href="https://mikegagnon.github.io/gluon/index.html#inf">The Infinite Regression</a>.</p>

                <p>Anyway, on the night of November 17, 2022, it appeared Twitter might be crashing, permanently, forever&mdash;due to apparent woeful mismanagement from the new CEO, Elon Musk.
                Former old-time Twitter employees, such as myself, got together on Twitter to reminesce and share contact information. It was a beautiful night.</p>

                <p>Some of us decided to hack Twitter, to help keep it running. I particpated by leaking secret NDA-controlled information about Twitter, on Twitter, trying to get Elon Musk's attention so I could help him better combat the bot problem on Twitter.</p>

                <p>I was with the Dakini that night (see Queen of hearts), and she performed "release review" for me. I filmed our release-review process, and it's striking to me how obvious it is in the video how totally in love with her I am.
                </p>

                <p>For more Twitter footage, see the King of clubs, and the Queen of clubs.</p>
                </div>

                `,
                bottomhtml: `<iframe width="560" height="315" src="https://www.youtube.com/embed/u9BPiDI0UrA" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen></iframe>`,
              },
              'A': {
                name: 'Raska Lullaby',
                filenames: [],
                tophtml: `<h1 class="display-5 fw-bold">Ace of hearts</h1>
                <h3>Raska Lullaby</h3>
                <div style="text-align: left">
                <p>Just some poetic gibberish.</p>
                </div>
                `,
                bottomhtml: `<iframe width="560" height="315" src="https://www.youtube.com/embed/4IxMX3XTp8Y" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen></iframe>`,
              },
            },
            'diamond': {
              '2': {
                name: 'Drala Caught on Film',
                filenames: [],
                tophtml: `<h1 class="display-5 fw-bold">2 of diamonds</h1>
                <h3>Drala Caught on Film</h3>
                <div style="text-align: left">
                <p>Just a little video of Telluride, CO doing it's thing in the summer.</p>
                `,
                bottomhtml: `<iframe width="560" height="315" src="https://www.youtube.com/embed/e-7nxjjalPc" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen></iframe>`,
              },
              '3': {
                name: 'Mutually Assured Espionage',
                filenames: [],
                tophtml: `<h1 class="display-5 fw-bold">3 of diamonds</h1>
                <h3>Mutually Assured Espionage</h3>
                <div style="text-align: left">
                <p>A fictional version of my adventures from December 2020.</p>
                <p>From the prologue:</p>
                <p style="margin-left: 30px;">
                  <i>December 13, 2020</i><br><br>

                Dear Audience Member,<br><br>
                I have a big magic trick for you, involving hacking, stacks
                of hundos, a megadude codenamed Biggie, and megababe codenamed Mia.<br><br>
                About a decade ago, I traveled to Berlin to present a research paper. I was surprised to randomly bump into Biggie
                there, outside a club called Spitze. We went inside, and there
                we befriended Mia, but it wasn’t until just days ago that I
                realized Mia was a spy, Biggie’s presence in Berlin was not a
                pure coincidence, and they were both entwined in my magic
                trick.</p>
                <p style="text-align: right;">&mdash; Rafe Sureshot</p>
                `,
                bottomhtml: ``,
              },
              '4': {
                name: 'Auspicious Doubt',
                filenames: [],
                tophtml: `<h1 class="display-5 fw-bold">4 of diamonds</h1>
                <h3>Auspicious Doubt</h3>
                <div style="text-align: left">
                <p>The book <a href="https://mikegagnon.github.io/gluon/index.html#auspicious">Auspicious Doubt</a> is an introduction to Buddhism for skeptical thinkers.</p>
                <p>When I visited the Vajra Vidya monastery in 2022, I received an audience with <a href="https://vajravidya.com/teachers">the Venerable Khenpo Lobzang Tenzin</a>. Eventually, I showed him a print copy of Auspicious Doubt, and he told me my inner buddha wrote that book.</p>
                `,
                bottomhtml: ``,
              },
              '5': {
                name: 'The Tau of Buddhism',
                filenames: [],
                tophtml: `<h1 class="display-5 fw-bold">5 of diamonds</h1>
                <h3>The Tau of Buddhism</h3>
                <div style="text-align: left">
                <p>The book <a href="https://mikegagnon.github.io/gluon/index.html#tau">The Tau of Buddhism</a> presents a collection of essays relating to computer science, Buddhism, mathematics, science, engineering, and so on.</p>
                `,
                bottomhtml: ``,
              },
               '6': {
                name: 'Yana Zendo and The Powers',
                filenames: [],
                tophtml: `<h1 class="display-5 fw-bold">6 of diamonds</h1>
                <h3>Yana Zendo and The Powers</h3>
                <div style="text-align: left">
                <p>The book <a href="https://mikegagnon.github.io/gluon/index.html#yz">Yana Zendo and The Powers</a> is mostly nonfiction.</a>
                <p>Here’s a quote:</p>

                <p style="margin-left: 30px;">Once, when I was six years old, I drew a magnificent picture of a US Air Force airplane dropping bombs on me. It was for the cover of my latest book, titled All About Me. My parents were frightened, but my teacher assured them it was OK. “Look,” she said, “He’s smiling.”</p>
                `,
                bottomhtml: ``,
              },
              '7': {
                name: 'Zen Beer Garden',
                filenames: [],
                tophtml: `<h1 class="display-5 fw-bold">7 of diamonds</h1>
                <h3>Zen Beer Garden</h3>
                <div style="text-align: left">
                <p>The book <a href="https://mikegagnon.github.io/gluon/index.html#zbg">Zen Beer Garden</a> is mostly nonfiction.</a>
                <p>The least fictional account of the adventures covered in <i>Mutually Assured Espionage</i> (see 3 of diamonds).</p>

                <p>According to the final chapter: “I have taken my ideology on how to use hacking to promote world peace to the greatest extent I could possibly take my ideology. I cannot hack any further, because, according to my ideology, it would be counterproductive to hack at this point.”</p>
                `,
                bottomhtml: ``,
              },
              '10': {
                name: 'Future Combat Systems',
                filenames: ['misc/fcs-heads.jpg'],
                tophtml: `<h1 class="display-5 fw-bold">10 of diamonds</h1>
                <h3>Future Combat Systems</h3>
                <div style="text-align: left">
                <p>See <a href="https://mikegagnon.github.io/gluon/index.html#chap2">Chapter 2 of Gluon Spoiler</a>.</p>
                <p>Future Combat Systems was the the US Army’s attempt to go "net-centric." It cost about $20 billion, the US Army asked me to hack it, and after I succeeded it shortly became cancelled.</p>
                `,
                bottomhtml: ``,
              },
              'J': {
                name: 'Young Xavier',
                filenames: [],
                tophtml: `<h1 class="display-5 fw-bold">Jack of diamonds</h1>
                <h3>Young Xavier</h3>
                <div style="text-align: left">
                <p>A little metaphorical story about
                a dear friend of mine who was kissed by Cassandra (from Greek mythology).</p>
                `,
                bottomhtml: `<iframe width="560" height="315" src="https://www.youtube.com/embed/VV7WhyZTaDI" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen></iframe>`,
              },
              'Q': {
                name: 'Thak you Red Team! Thank you Green Team!',
                filenames: [],
                tophtml: `<h1 class="display-5 fw-bold">Queen of diamonds</h1>
                <h3>Thak you Red Team! Thank you Green Team!</h3>
                <div style="text-align: left">
                <p>Some real gibberish for a real lullaby.</p>
                `,
                bottomhtml: `<iframe width="560" height="315" src="https://www.youtube.com/embed/lA01R8Q8GRc" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen></iframe>`,
              },
              'K': {
                name: 'Apocalypse Wow',
                filenames: [],
                tophtml: `<h1 class="display-5 fw-bold">King of diamonds</h1>
                <h3>Apocalypse Wow</h3>
                <div style="text-align: left">
                <p>Just a little rap video I made in 2018.</p>
                `,
                bottomhtml: `<iframe width="560" height="315" src="https://www.youtube.com/embed/82uEVd7BOlo" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen></iframe>`,
              },
              'A': {
                name: 'Arcturian Gateway',
                filenames: [],
                tophtml: `<h1 class="display-5 fw-bold">Ace of diamonds</h1>
                <h3>Arcturian Gateway</h3>
                <div style="text-align: left">
                <p>
                  It was early October 2022, and my girlfriend had just dumped me outside of a dance club.
                  So, I walked to the nearest Taco Bell, and outside I met a beautiful lady. Later, on November 18, 2022, I wrote a poem about our encounter, titled <a href="https://www.shambhala.wiki/?p=15">Instant Crush</a>, which reads:</p>

                  <p style="margin-left: 30px"><i>The dakini and I met,<br>
                  Instantly we became magnets,<br>
                  She captured my phone,<br>
                  Punched in some keys,<br>
                  Said goodbye,<br>
                  It lasted ~30 seconds.</i></p>

                  <p>We had a date the next day, and we kept hanging out after that.</p>

                  <p>Then, we spent 3 whole days together, from October 17 through October 19.</p>

                  <p>This timing was auspicious because, according to various sources, Earth was
                  passing through an "Arcturian gateway portal" during that time window.</p>

                  <p>I recorded some of our adventures during the portal, and mixed in some old footage
                  of other, previous adventures I had particpated in, then uploaded it to YouTube.</p>
                `,
                bottomhtml: `<iframe width="560" height="315" src="https://www.youtube.com/embed/InWPYCGolXM" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen></iframe>`,
              },
            },
            'club': {
              '2': {
                name: 'Story about the FBI',
                filenames: [],
                tophtml: `<h1 class="display-5 fw-bold">2 of clubs</h1>
                <h3>Story about the FBI</h3>
                <div style="text-align: left">
                <p>Just a little story I told recently, while filming myself.</p>
                </div>
                `,
                bottomhtml: `<iframe width="560" height="315" src="https://www.youtube.com/embed/IJY9HN5pItI" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen></iframe>`,
              },
              '3': {
                name: 'Rejected by the CIA',
                filenames: [],
                tophtml: `<h1 class="display-5 fw-bold">3 of clubs</h1>
                <h3>Rejected by the CIA</h3>
                <div style="text-align: left">
                <p>Just a story about a friend who was rejected by the CIA.</p>
                </div>
                `,
                bottomhtml: `<iframe width="560" height="315" src="https://www.youtube.com/embed/oJSIIltnM28" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen></iframe>`,
              },
              '4': {
                name: 'Rap Genius Recusrive',
                filenames: [],
                tophtml: `<h1 class="display-5 fw-bold">4 of clubs</h1>
                <h3>Rap Genius Recusrive</h3>
                <div style="text-align: left">
                <p>A spontaneous recording of a rap, filmed during the events portrayed in the book
                <a href="https://mikegagnon.github.io/gluon/index.html#zbg">Zen Beer Garden</a> (see 7 of diamonds).</p>
                </div>
                `,
                bottomhtml: `
                <iframe width="560" height="315" src="https://www.youtube.com/embed/Z3mJRunKNAw" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen></iframe>`,
              },
              '5': {
                name: 'Deluxe Beer Garden',
                filenames: [],
                tophtml: `<h1 class="display-5 fw-bold">5 of clubs</h1>
                <h3>Deluxe Beer Garden</h3>
                <div style="text-align: left">
                <p>The book <a href="https://mikegagnon.github.io/gluon/index.html#dbg">Deluxe Beer Garden</a> is mostly nonfiction.</p>

                <p> From the book:</p>

                <p>“I’m not sure how I actually pulled it off. I had never attempted a power slide before. But, I yanked the wheel, hit the gas, yanked the e-brake, and we slid a 180, over the ice, gliding across an alley not made for three-point turns. We went to the club. Somehow, it was open for business. DD can confirm story. Megadude and other gigababe can confirm too. We were red team, but I wasn’t aware of it at the time. Were any of us aware? DD hasn’t called me back in years.” </p>
                </div>
                `,
                bottomhtml: ``,
              },
              '6': {
                name: 'JavaScript: Overview & Details',
                filenames: [],
                tophtml: `<h1 class="display-5 fw-bold">6 of clubs</h1>
                <h3>JavaScript: Overview & Details</h3>
                <div style="text-align: left">
                <p>The online book <a href="https://mikegagnon.github.io/gluon/index.html#js">JavaScript: Overview & Details</a> teaches computer science to novices.</p>
                </div>
                `,
                bottomhtml: ``,
              },
              '7': {
                name: 'MIT Lincoln Laboratory',
                filenames: [],
                tophtml: `<h1 class="display-5 fw-bold">7 of clubs</h1>
                  <h3>MIT Lincoln Laboratory</h3>

                  <p style="font-size: 80%;">From <a href="https://mikegagnon.github.io/gluon/index.html#mit-anyway">Gluon Spoiler</a> and <a href="https://mikegagnon.github.io/gluon/index.html#zbg">Zen Beer Garden</a> (see for example <a href="img/zbg/zbg-233-219.jpg">pg. 219</a>)</p>

                  <div style="text-align: left">
                    <p class="lead mb-4"><a name="mit-anyway">Anyway</a>, you might be wondering what MIT has to do with espionage and live-fire nuclear war games. I shall explain it clearly now (it’s been an open secret for a long time).<br><br>

                      Early in the Cold War the US Military and Congress collaborated to establish new private organizations controlled funded by the Federal Government and US Military. They are known as FFRDC’s (Federally Funded Research & Development Centers). Lincoln Laboratory (LL) is an FFRDC within MIT. LL is physically located within an Air Force base about 20 minutes north of MIT’s main campus.</p>


                      <p class="lead mb-4 highlight">Highlights:</p>

                      <ol>
                        <li>I worked at MIT Lincoln Laboratory for 4 years.</li>
                        <li>I designed nuclear weapons (Queen of spades)</li>
                        <li>MIT gave me a scholarship to attend Harvard (8 of spades)</li>
                        <li>I hacked a $20-billion US Army program (10 of diamonds)</li>
                      </ol>
                  </div>
                  `,
                bottomhtml: ``,
              },
              '8': {
                name: 'Hanscom Air Force Base',
                filenames: [],
                tophtml: `<h1 class="display-5 fw-bold">8 of clubs</h1>
                  <h3>Hanscom Air Force Base</h3>

                  <p style="font-size: 80%;">From <a href="https://mikegagnon.github.io/gluon/index.html#mit-anyway">Gluon Spoiler</a> and <a href="https://mikegagnon.github.io/gluon/index.html#zbg">Zen Beer Garden</a> (see for example <a href="img/zbg/zbg-233-219.jpg">pg. 219</a>)</p>

                  <div style="text-align: left">
                    <p class="lead mb-4">
                      Early in the Cold War the US Military and Congress collaborated to establish new private organizations controlled funded by the Federal Government and US Military. They are known as FFRDC’s (Federally Funded Research & Development Centers). Lincoln Laboratory (LL) is an FFRDC within MIT. LL is physically located within an Air Force base [Hanscom Air Force Base] about 20 minutes north of MIT’s main campus.</p>


                      <p class="lead mb-4 highlight">Highlights:</p>

                      <ol>
                        <li>I worked at MIT Lincoln Laboratory for 4 years.</li>
                        <li>I designed nuclear weapons (Queen of spades)</li>
                        <li>MIT gave me a scholarship to attend Harvard (8 of spades)</li>
                        <li>I hacked a $20-billion US Army program (10 of diamonds)</li>
                      </ol>
                  </div>
                  `,
                bottomhtml: ``,
              },
              '9': {
                name: 'Area 51',
                filenames: ['zbg/area51.png'],
                tophtml: `<h1 class="display-5 fw-bold">9 of clubs</h1>
                  <h3>Area 51</h3>

                  <p style="font-size: 80%;">From <a href="https://mikegagnon.github.io/gluon/index.html#zbg">Zen Beer Garden</a> (see <a href="img/zbg/area51.png">pg. 218</a>)</p>

                  <div style="text-align: left">
                    <p class="lead mb-4">
                      My Dad held significant responsiblity regarding Area 51. It's a matter of public record. <br><br>

                      But, my Dad and I never discuss Area 51. Don't ask. To quote
                      <a href="https://mikegagnon.github.io/gluon/index.html#zbg">Zen Beere Garden</a>  pg. 218:</p>
                  </div>
                  `,
                bottomhtml: `.`,
              },
              '10': {
                name: 'Gluon Spoiler',
                filenames: [],
                tophtml: `<h1 class="display-5 fw-bold">10 of clubs</h1>
                <h3>Gluon Spoiler</h3>
                <div style="text-align: left">
                <p>The online book <a href="https://mikegagnon.github.io/gluon/">Gluon Spoiler</a> is a spoiler for my other books, because it resolves the mysteries I sewed into my other books.<br><br>
                  
                  In Gluon Spoiler, I make my intellectual canon as simple and clear as possible, by providing entertaining references to my other books.</p>
                </div>
                `,
                bottomhtml: ``,
              },
              'J': {
                name: 'Tedla: The Adventures of Trickstergod and the Megababes, Volume 1',
                filenames: [],
                tophtml: `<h1 class="display-5 fw-bold">Jack of clubs</h1>
                <h3>Tedla:</h3>
                <h3>The Adventures of Trickstergod and the Megababes, Volume 1</h3>
                <div style="text-align: left">
                <p>A fictional little comic-book reading featuring a story about a fictional Buddhist "god."
                </p>

                <p>The term "gods," in Buddhism, refers to beings that suffer neurosis, yet are powerful.
                There's a lot more to it than that. See Section 8.1.5 of my book <a href="https://mikegagnon.github.io/gluon/index.html#auspicious">Auspicious Doubt</a> for a discussion of the concept of "gods" within Buddhism.</p>
                </div>
                `,
                bottomhtml: `
                <iframe width="560" height="315" src="https://www.youtube.com/embed/_nEke32vGBY" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen></iframe>`,
              },
              'Q': {
                name: 'Behind the scenes of Twitter hacking',
                filenames: [],
                tophtml: `<h1 class="display-5 fw-bold">Queen of clubs</h1>
                <h3>Behind the scenes of Twitter hacking</h3>
                <div style="text-align: left">
                <p>One night, Twitter seemed it might be crashing forever, so, according to rumor, a few volunteers hacked it to keep it alive (see King of hearts). I particpated by leaking secret NDA-controlled information about Twitter, on Twitter.</p>

                <p>This footage shows the Dakini reviewing my leak, before I published it.</p>

                <p>See also the King and Queen of hearts, and the King of clubs.</p>
                </div>
                `,
                bottomhtml: `<iframe width="560" height="315" src="https://www.youtube.com/embed/vh7EYBTeuWs" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen></iframe>`,
              },
              'K': {
                name: 'Footage of @gmike hacking Twitter',
                filenames: ['misc/deleted.png'],
                tophtml: `<h1 class="display-5 fw-bold">King of clubs</h1>
                <h3>Footage of @gmike hacking Twitter</h3>
                <div style="text-align: left">
                <p>On the morning of November 22, 2022, I discovered a technique for viewing deleeted tweets on Twitter. I discussed the security vulnerability with a former Twitter engineer (we knew each other from working at Twitter together back in the day), and afterwards I decided to file an FBI tip (I've been an FBI informant for a long time).</p>


                 <p>Anyway, I filmed myself viewing a deleted tweet, and recently posted the video on YouTube.</p>

                 <p>I think the funniest thing about it, is that the deleted tweet appears to pertain to unsafe 
                 coding practices being performed at Twitter at the time (under Elon Musk's new leadership).</p>

                 <p>For more Twitter footage, see the King of hearts, and the Queen of clubs.</p>

                  <p>For posterity, here's a screenshot of the deleted tweet:</p>
                </div>
                `,
                bottomhtml: `<iframe width="560" height="315" src="https://www.youtube.com/embed/ey3OVdcLfg0" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen></iframe>`,
              },
              'A': {
                name: 'Josh\'s 21st',
                filenames: [],
                tophtml: `<h1 class="display-5 fw-bold">Ace of clubs</h1>
                <h3>Josh's 21st</h3>
                <div style="text-align: left">
                <p>A fictional behind-the-scenes narrative of <a href="https://youtu.be/uC-qsahUp6k">Josh's 21st Birthday</a>, as tweeted on <a href="https://twitter.com/gmike/status/1624605378599157760">February 11, 2023</a>.</p>

                <p>In <a href="https://youtu.be/x5R84__-EzA">the sequel to Josh's 21st Birthday</a>, I flirt with his girlfriend again.</p>

                <p>In college, we planned on making a feature-length documentary for that weekend, but ended up only making a few short films and <a href="https://youtu.be/gg3vbFfDHkU">a trailer</a>.</p>

                <p>Here's <a href="https://youtu.be/CCdiNBbajgs">the trailer</a> for the fictional behind-the-scenes narrative of Josh's 21st Birthday.</p>
                </div>
                `,
                bottomhtml: `
                  <iframe width="560" height="315" src="https://www.youtube.com/embed/bhfOj8htX18" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen></iframe>`,
              },

            },
            'spade': {
              '2': {
                name: 'Dragon Guardian',
                filenames: [],
                tophtml: `<h1 class="display-5 fw-bold">2 of spades</h1>
                <h3>Dragon Guardian</h3>
                <div style="text-align: left">

                <p>There's a lady who I have nicknamed The Dakini (see Ace of diamonds).</p>

                <p>When I launched Shambhala.wiki on Nov. 18, 2022, I asked her what we should
                post. She said, "An infinity symbol," so I did it, <a href="https://www.shambhala.wiki/?p=5">see</a>.

                <p>Anyway, one night, recently, we were communicating with each other via spontaneously
                recorded videos, sent via text. But, one video I recorded was really long, so I uploaded
                it to YouTube, and sent her a private link. But, the next day, I decided to make
                the video public.</p>

                <p>The video "Dragon Guardian" features a spontaneous reading of one of my latest books,
                <a href="https://mikegagnon.github.io/gluon/index.html#kgems">The World According to Kindergarten Gems</a>, and I also discuss a Buddhist meditation I've nicknamed "transposition," which is discussed in my book <a href="https://mikegagnon.github.io/gluon/index.html#trans">The Gentle Way of War</a>.</p>
                </div>

                `,
                bottomhtml: `
                <iframe width="560" height="315" src="https://www.youtube.com/embed/xkUAc6SlgUk" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen></iframe>`,
              },
              '3': {
                name: 'The World According to Kindergarten Gems',
                filenames: [],
                tophtml: `<h1 class="display-5 fw-bold">3 of spades</h1>
                <h3>The World According to Kindergarten Gems</h3>
                <div style="text-align: left">

                <p>The little booklet <a href="https://mikegagnon.github.io/gluon/index.html#kgems">The World According to Kindergarten Gems</a> is a metaphor about reality, plus proof of emptiness.</p>

                <p style="margin-left: 30px;">See also the 2 of spades.</p>
                </p>
                </div>

                `,
                bottomhtml: ``,
              },
              '4': {
                name: 'Earth\'s #1 Hacker',
                filenames: [],
                tophtml: `<h1 class="display-5 fw-bold">4 of spades</h1>
                <h3>Earth's #1 Hacker</h3>
                <div style="text-align: left">

                <p>The book <a href="https://mikegagnon.github.io/gluon/index.html#earth">Earth's #1 Hacker</a> is mostly nonfiction.</p>

                <p>From the book:</p>

                <p style="margin-left: 30px;">
                As the story goes, in 1979, my mother just happened to be in Iran when revolutionary forces overthrew Iran’s government and began collecting American hostages. At Tehran, American planes of all kinds were scrambling to help evacuate as many Americans as possible. But, the commander on my mother’s plane gave the order to taxi before it was fully loaded. My mother objected, saying they needed to wait until their plane was full. The commander attempted to squash my mother’s insubordination with threats of demotion, so [my mother] pushed the button that opened the back cargo ramp. With the cargo ramp open, Americans who had ran out onto the tarmac were able to board the plane before take off. After it was all said and done, the Air Force demoted the commander, and promoted my mother.
                </p>
                </div>

                `,
                bottomhtml: ``,
              },
              '5': {
                name: 'CIA birthday party',
                filenames: [],
                tophtml: `<h1 class="display-5 fw-bold">5 of spades</h1>
                <h3>CIA birthday party</h3>
                <div style="text-align: left">

                <p>A video I made recently, where I tell the story of a CIA bud's 21st birthday party.</p>
                </div>

                `,
                bottomhtml: `<iframe width="560" height="315" src="https://www.youtube.com/embed/NeTSlyhM7DU" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen></iframe>`,
              },
              '6': {
                name: 'Soph',
                filenames: [],
                tophtml: `<h1 class="display-5 fw-bold">6 of spades</h1>
                <h3>Soph</h3>
                <div style="text-align: left">

                <p>A music video I filmed for a friend years ago.</p>
                </div>

                `,
                bottomhtml: `<iframe width="560" height="315" src="https://www.youtube.com/embed/va-O23ProoI" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen></iframe>`,
              },
              '7': {
                name: 'Spoof stealth sousveillance introduction',
                filenames: [],
                tophtml: `<h1 class="display-5 fw-bold">7 of spades</h1>
                <h3>Spoof stealth sousveillance introduction</h3>
                <div style="text-align: left">

                <p><i>Sousveillance</i> is when "ordinary people"  surveill the powers.</p>

                <p><i>Stealth sousveillance</i> is when "ordinary people" <i>stealthily</i> surveill the powers.</p>
                <p><i>Spoof stealth sousveillance</i> is when "ordinary people" <i>trick</i> the powers into thinking they're being stealthily sousveilled, but really there's no stealth sousveillance.</p>

                <p>I believe spoof stealth sousveillance is easier than stealth sousveillance, and, if implemented widely, it ought to pressure the powers into behaving better. (Real sousveillance, including stealth sousveillance are important, too.)</p>

                <p>This video also serves as the introductory portion of "gmike rambling thoughts" (King of spades)</p>
                </div>

                `,
                bottomhtml: `
                <iframe width="560" height="315" src="https://www.youtube.com/embed/E3e0Uw7N60M" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen></iframe>`,
              },
              '8': {
                name: 'Harvard',
                filenames: ['misc/harvard-transcript.png'],
                tophtml: `<h1 class="display-5 fw-bold">8 of spades</h1>
                <h3>Harvard</h3>

                <p style="font-size: 80%;">From <a href="https://mikegagnon.github.io/gluon/index.html#harvard">Gluon Spoiler</a> and <a href="https://mikegagnon.github.io/gluon/index.html#dbg">Deluxe Beer Garden</a></p>

                <div style="text-align: left">
                <p class="lead mb-4"><a name="harvard">I have</a> a master’s degree from Harvard. I photoshopped the photo for my student ID, before I submitted it. Lol!
                </p>
                <center>
                  <a href="https://mikegagnon.github.io/gluon/index.html#dbg"><img src="https://mikegagnon.github.io/gluon/img/harvard.jpg" style="width:100%; " alt="I actually got a perm for this photo. My smile is quirky. DBG 68. Lol, Prof. Margo Seltzer was the only one who ever commented on it. She had a roster with photos, and eventually she was like, 'Oh, that's you!' She's great. One of my favorite all-time professors."></a>
                </center>

                </div>
                `,
                bottomhtml: `
                <div style='text-align:left;'>
                <p>Here are some homework assignments I completed at Harvard:</p>
                  <ol>
                    <li><a href="https://www.dropbox.com/s/dazqbgq6zo4tfz4/algcomplex_paper.pdf?dl=0"> CS 252 Final paper: Algorithmic-Complexity Security Policies</a></li>
                    <li><a href="https://www.dropbox.com/s/6jkwbnwvt314vn1/bouncer.pdf?dl=0">Bouncer</a></li>
                    <li><a href="https://www.dropbox.com/s/dw5aw99p4rs5ip0/yamba.pdf?dl=0">Yamba</a></li>
                    <li><a href="https://www.dropbox.com/s/4am68g2e8b78hay/heliox.pdf?dl=0">Heliox</a></li>
                    <li><a href="https://www.dropbox.com/s/eg7884sftpccau8/cloud-browser.pdf?dl=0">Cloud Browser</a></li>
                    <li><a href="https://www.dropbox.com/s/7k7t5m6vqyeofzq/hw5.pdf?dl=0">CS 152, Homework Assignment 5</a></li>
                    <li><a href="https://www.dropbox.com/s/b58bs8ie0s7lp05/cs220r_mgagnon_pset1.pdf?dl=0">CS 220: Problem Set 1</a></li>
                    <li><a href="https://www.dropbox.com/s/26sriz3e3s9rywy/cs222_assignment_3_mgagnon.pdf?dl=0">CS 222, Assignment 3</a></li>
                    <li><a href="https://www.dropbox.com/s/zto7upg2hdo8gp5/commentary_due_2010_11_12.pdf?dl=0">CS 253r, Commentary on A Comparison of Software and Hardware Techniques for x86 Virtualization, 2006</a></li>
                    <li><a href="https://www.dropbox.com/s/y2s1jkwm8sgzzvb/quiz1.pdf?dl=0">CS 261, Quiz 1</a></li>
                    <li><a href="https://www.dropbox.com/s/tu2lr8u8dp36r0a/GagnonProtocol.pdf?dl=0">CS 262, GagnonProtocol</a></li>
                    <li><a href="https://www.dropbox.com/s/uviohwvzbpxi5b7/mgagnon_stat110_hw11.pdf?dl=0">Stat 110, Ultimate Homework Assignment</a></li>
                    <li><a href="https://www.dropbox.com/s/cfryon193ihw07f/hw2.pdf?dl=0">Stat 111, Homework Assignment 2</a></li>
                  </ol>
                </div>

                `,
              },
              'J': {
                name: 'Pan and Tinkerbell',
                filenames: [],
                tophtml: `<h1 class="display-5 fw-bold">Jack of spades</h1>
                <h3>Pan and Tinkerbell</h3>
                <p>A children's story not suitable for children (PG-14).</p>
                `,
                bottomhtml: `
                <iframe width="560" height="315" src="https://www.youtube.com/embed/VRW6P6HxKSM" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen></iframe>`,
              },
              'Q': {
                name: 'Nukes',
                filenames: [],
                tophtml: `<h1 class="display-5 fw-bold">Queen of spades</h1>
                <h3>Nukes</h3>

                <div style="text-align: left">

                <p style="font-size: 80%;">From the online book <a href="https://mikegagnon.github.io/gluon/index.html#i-once">Gluon Spoiler</a>:</p>
                <p class="lead mb-4">I once hacked the United States nuclear-warfare defense system, during a live-fire war game (<a href="https://mikegagnon.github.io/gluon/index.html#zbg">ZBG</a> <a href="img/zbg/zbg-233-219.jpg">pg. 219</a>).</p>

                <p class="lead mb-4">Proof that the war game was <i>live fire</i>: see pages 20 and 34 of <a href="https://www.dropbox.com/sh/w88813zihcygbze/AADd8n7FoF-O6HGd74kpiVXWa/Annual_Report_2010.pdf?dl=0">MIT Lincoln Laboratory's 2010 report</a>.
                </p>

                <center><img src="https://mikegagnon.github.io/gluon/img/annual.jpg" width='400' height='143' alt="todo"></center><br>
                

                <p class="lead mb-4">I authored an unclassified report on that war game titled <a href="https://www.dropbox.com/sh/w88813zihcygbze/AAAbKi4dPhA9DqFoyj0gbPGqa/isarcs.pdf?dl=0">Towards Net-Centric Cyber Survivability for Ballistic Missile Defense</a>.
                </div>
                `,
                bottomhtml: ``,
              },
              'K': {
                name: 'gmike rambling thoughts',
                filenames: [],
                tophtml: `<h1 class="display-5 fw-bold">King of spades</h1>
                <h3>gmike rambling thoughts</h3>
                <p style="text-align: left">An hour long "video podcast" of me just opening my mouth, and allowing myself to 
                spontaneously share my thoughts with the world, with very little self censorship.</p>
                `,
                bottomhtml: `
                <iframe width="560" height="315" src="https://www.youtube.com/embed/S7DOb539UeA" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen></iframe>`,
              },
              'A': {
                name: 'One day Ganesha became found her body',
                filenames: ['misc/valentino.png'],
                tophtml: `<h1 class="display-5 fw-bold">Ace of spades</h1>
                <h3>One day Ganesha became found her body</h3>
                <p style="text-align: left">Just a story I made up relating to Hinduism.</p>
                `,
                bottomhtml: `<iframe width="560" height="315" src="https://www.youtube.com/embed/e8X-RjpW3N0" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen></iframe>`,
              },
            },
          }
        }
      ];

      let BASE;
      function setBase() {
        const i = window.location.href.indexOf('?');
        if (i < 0) {
          BASE = window.location.href;
        } else {
          BASE = window.location.href.slice(0, i);
        }
        console.log('BASE', BASE);
      }


      let DECK;
      let DECK_I;
      let CARDS;
      let URL_PARTS;

      const url = window.location.href.replace('code', '');
      console.log(url)

      // https://davidshimjs.github.io/qrcodejs/
      const QRCODE = new QRCode("myqrcode", {
          text: url,
          width: 256,
          height: 256,
          colorDark : "#000000",
          colorLight : "#ffffff",
          correctLevel : QRCode.CorrectLevel.L
      });


      function drawDeckSelector(deckI) {

        let divider = '';
        if (deckI > 0) {
          divider = '<div class="b-example-divider"></div>';
        }

        let preamble = `
          <div id="decks-${deckI}" class="not-init">
            ${divider}
            <p><button type="button" class="deck btn btn-primary btn-lg px-4 gap-3" onclick="deckClick(0)">Gluon Spoiler</button></p>
            <p><button type="button" class="deck btn btn-primary btn-lg px-4 gap-3" onclick="deckClick(1)">Theory 11</button></p>
          </div>`;
        
        if (DECKS.length == 1) {
          preamble = '';
        }

        
        const html = `
          ${preamble}
          <div id="deckTop-${deckI}" class="not-init">
          </div>
          <div id="cards-${deckI}" class="not-init">
          </div>`;
        $("#workspace").append(html);

        //console.log(html)

      }

      

      // https://stackoverflow.com/questions/8038726/how-to-trigger-change-when-using-the-back-button-with-history-pushstate-and-pops
      function change(state) {
          if(state === null) { // initial page
              //$("div").text("Original");
              console.log('initial')
              initialize();
          } else { // page added with pushState
              console.log(state.url);
              initialize();
          }
      }
      $(window).on("popstate", function(e) {
          change(e.originalEvent.state);
      });



      


      class CardSelector {
        constructor(n) {
          CARDS.push(this);
          this.n = n;
          this.id = "card-selector-" + this.n;
          console.log(`#cards-${DECK_I}`);
          if (this.n > 0 || this.n === 0) {
            if (DECKS.length > 1) {
              $(`#cards-${DECK_I}`).append(`
                <div class="not-init end-button" style="margin-bottom: 10px;">
                  <button type="button" class="end-btn btn btn-outline-secondary btn-lg px-4 gap-3" onclick="endDeck(${this.n})">End deck</button>
                </div>
              `);
            }
          }

          $(`#cards-${DECK_I}`).append(`

      <div class="not-init" id="${this.id}">
        <div">
        <center><div style="margin-bottom: 10px;" class="select-suit-words highlight">Select a suit:</div></center>
          <p>
            <button type="button" class="suit suit-heart btn btn-danger btn-lg px-4 gap-3" onclick="suitClick(${this.n}, 'heart')">♥</button>
            <button type="button" class="suit suit-diamond btn btn-danger btn-lg px-4 gap-3" onclick="suitClick(${this.n}, 'diamond')">♦</button>
            <button type="button" class="suit suit-club btn btn-dark btn-lg px-4 gap-3" onclick="suitClick(${this.n}, 'club')">♣</button>
            <button type="button" class="suit suit-spade btn btn-dark btn-lg px-4 gap-3" onclick="suitClick(${this.n}, 'spade')">♠</button>
          </p>
        </div>
      </div>`);

          //this.disableSuit(DECK_I, 'club');
          const deck = DECK;
          for (const suit of SUITS) {
            if (!(suit in deck.cards)) {
              this.disableSuit(DECK_I, suit);
            } 
          }

        }

        disableSuit(deckI, suit) {

          $(`#cards-${deckI} .suit-${suit}`).attr('disabled', true);
          $(`#cards-${deckI} .suit-${suit}`).removeClass('btn-danger');
          $(`#cards-${deckI} .suit-${suit}`).removeClass('btn-dark');
          $(`#cards-${deckI} .suit-${suit}`).css('border', '0px');

        }


        suitClick(suit) {
          this.suit = suit;
          $(".select-suit-words").removeClass('highlight');
          $(`#${this.id} .suit`).removeClass('btn-danger');
          $(`#${this.id} .suit`).removeClass('btn-dark');
          $(`#${this.id} .suit`).attr('disabled', 'true');
          $(`#${this.id} .suit`).css('border', '0px');
          $(`.end-btn`).css('border', '0px');
          $(`.end-btn`).attr('disabled', true);
          if (suit === 'heart' || suit === 'diamond') {
            $(`#${this.id} .suit-${suit}`).addClass('btn-danger');
          } else {
            $(`#${this.id} .suit-${suit}`).addClass('btn-dark');
          }
          $(`#${this.id}`).append(`

        <div class="justify-content-sm-center not-init">
          <p>
            <button type="button" class="val val-A btn btn-warning btn-lg px-4 gap-3" onclick="valClick(${this.n}, 'A')">A</button>
            <button type="button" class="val val-K btn btn-warning btn-lg px-4 gap-3" onclick="valClick(${this.n}, 'K')">K</button>
            <button type="button" class="val val-Q btn btn-warning btn-lg px-4 gap-3" onclick="valClick(${this.n}, 'Q')">Q</button>
            <button type="button" class="val val-J btn btn-warning btn-lg px-4 gap-3" onclick="valClick(${this.n}, 'J')">J</button>
          </p>
          <p>
            <button type="button" class="val val-10 btn btn-warning btn-lg px-4 gap-3" onclick="valClick(${this.n}, 10)">10</button>
            <button type="button" class="val val-9 btn btn-warning btn-lg px-4 gap-3" onclick="valClick(${this.n}, 9)">9</button>
            <button type="button" class="val val-8 btn btn-warning btn-lg px-4 gap-3" onclick="valClick(${this.n}, 8)">8</button>
            <button type="button" class="val val-7 btn btn-warning btn-lg px-4 gap-3" onclick="valClick(${this.n}, 7)">7</button>
          </p>
          <p>
            <button type="button" class="val val-6 btn btn-warning btn-lg px-4 gap-3" onclick="valClick(${this.n}, 6)">6</button>
            <button type="button" class="val val-5 btn btn-warning btn-lg px-4 gap-3" onclick="valClick(${this.n}, 5)">5</button>
            <button type="button" class="val val-4 btn btn-warning btn-lg px-4 gap-3" onclick="valClick(${this.n}, 4)">4</button>
            <button type="button" class="val val-3 btn btn-warning btn-lg px-4 gap-3" onclick="valClick(${this.n}, 3)">3</button>
            <button type="button" class="val val-2 btn btn-warning btn-lg px-4 gap-3" onclick="valClick(${this.n}, 2)">2</button>
          </p>
          <p>
            <button type="button" class="val val-JR btn btn-danger btn-lg px-4 gap-3" onclick="valClick(${this.n}, 'JR')">Joker</button>
            <button type="button" class="val val-JB btn btn-dark btn-lg px-4 gap-3" onclick="valClick(${this.n}, 'JB')">Joker</button>
          </p>
        </div>`);

          const deck = DECK;
          for (const val of VALS) {
            if (!(val in deck.cards[this.suit])) {
              if ((val === 'JR' || val === 'JB')) {
                if (!(val in deck.cards['joker'])) {
                  this.disableVal(val);
                }
                // pass
              } else {
                this.disableVal(val);
              }
            } 
          }
        }

        disableVal(val) {
          $(`#${this.id} .val-${val}`).attr('disabled', true);
          $(`#${this.id} .val-${val}`).removeClass('btn-warning');
          $(`#${this.id} .val-${val}`).removeClass('btn-danger');
          console.log(`#${this.id} .val-${val}`);
          $(`#${this.id} .val-${val}`).removeClass('btn-dark');
          $(`#${this.id} .val-${val}`).css('border', '0px');

        }

        valClick(val) {
          this.val = val;
          let suit = this.suit;
          if (this.val === 'JR' || this.val === 'JB') {
            suit = 'joker';
          }

          $(`#${this.id} .val`).removeClass('btn-warning');
          $(`#${this.id} .val`).removeClass('btn-danger');
          $(`#${this.id} .val`).removeClass('btn-dark');
          $(`#${this.id} .val`).attr('disabled', 'true');
          $(`#${this.id} .val`).css('border', '0px');
          $(`#${this.id} .val-${this.val}`).addClass('btn-warning');
          if (this.val === 'JR') {
            $(`#${this.id} .val-${this.val}`).addClass('btn-danger');
          } else if (this.val === 'JB') {
            $(`#${this.id} .val-${this.val}`).addClass('btn-dark');
          }

          const deck = DECK;
          console.log(this.val);
          const c = deck.cards[suit][this.val];
          console.log('foo', this.id);
          $(`#${this.id}`).append(c.tophtml);
          const mar = "15px;"

          for (const f of c.filenames) {
            $(`#${this.id}`).append(`
              <a href="img/${f}"><img class="rounded shadow" style="width:100%; padding-top: ${mar}; padding-left: ${mar}; padding-right: ${mar}; padding-bottom: ${mar}; margin-bottom: ${mar}" src="img/${f}"></a>
            `); 
          }

          $(`#${this.id}`).append(c.bottomhtml);
          $(`#${this.id}`).append(deck.cardbottomhtml);

          const cardN = CARDS.length;
          const cardSelector = new CardSelector(cardN);


        }



        endDeck() {
          $(`.end-btn`).css('border', '0px');
          $(`.end-btn`).attr('disabled', true);
          $(`.suit`).removeClass('btn-danger');
          $(`.suit`).removeClass('btn-dark');
          $(`.suit`).attr('disabled', 'true');
          $(`.suit`).css('border', '0px');
        }
      }

      function updateUrl() {
        const q = URL_PARTS.join('');
        // https://stackoverflow.com/questions/4656843/get-querystring-from-url-using-jquery
        

        const newUrl = BASE + '?' + q;
        console.log('updateUrl base', BASE);
        console.log('updateUrl newUrl', newUrl);

        //window.location.href = newUrl;
        //window.history.pushState("object or string", "Title", "/new-url");
        let newUrlWithCode = newUrl;
        if (CODE) {
          newUrlWithCode += 'code';
        }
        window.history.pushState({}, '', newUrlWithCode);
        QRCODE.clear(); // clear the code.
        console.log('newUrl', newUrl);
        QRCODE.makeCode(newUrl);
      }


      function deckClick(n, noUpdateUrl) {
          DECK = DECKS[n];
          console.log('DECK_I', DECK_I)
          $('.deck').css('color', 'rgb(108, 117, 125)');
          
          $(`#decks-${DECK_I} button`).attr('disabled', true);
          $(`#decks-${DECK_I} button`).removeClass('btn-primary');
          $(`#decks-${DECK_I} button`).attr('disabled', true);
          $(`#decks-${DECK_I} button`).addClass('btn-light');
          $(`#decks-${DECK_I} button`).eq(n).removeClass('btn-light');
          $(`#decks-${DECK_I} button`).eq(n).addClass('btn-primary');
          $(`.btn-primary`).css('color', 'white');

          const cardN = CARDS.length;
          const cardSelector = new CardSelector(cardN);
          //console.log(cardSelector);
          let deckId;
          if (DECK_I === 0) {
            deckId = DECK.id
          } else {
            deckId = "-" + DECK.id;
          }
          URL_PARTS.push(deckId);
          if (!noUpdateUrl) {
            updateUrl();
          }
          console.log(URL_PARTS);

          if (DECKS.length > 1) {
            $(`#deckTop-${DECK_I}`).append(DECK.deckTop);
          }

          if (CODE) {
            $("#code").css('display', 'block');
            makeIndex();
            makeTopics();
          }

        

      }

      function suitClick(n, suit, noUpdateUrl) {
        const card = CARDS[n];
        //console.log(card.id, suit);
        card.suitClick(suit);
        URL_PARTS.push('-' + suit);
        console.log("suitClick DECK_I", DECK_I);
        if (!noUpdateUrl) {
          //updateUrl();
        }
      }

      function valClick(n, val, noUpdateUrl) {
        const card = CARDS[n];
        card.valClick(val);
        URL_PARTS.push('_' + val);

        if (!noUpdateUrl) {
          updateUrl();
        }
      }

      function cardClick(suit, val) {
        const n = CARDS.length - 1;
        suitClick(n, suit);
        valClick(n, val);
        //document.getElementById(`card-selector-${n}`).scrollIntoView();
        //$(`card-selector-${n} h3`).scrollTop();
        $([document.documentElement, document.body]).animate({
          scrollTop: $(`#card-selector-${n} h1`).offset().top
        }, 2000);
      }

      function endDeck(n, noUpdateUrl) {
        const card = CARDS[n];
        card.endDeck();


        DECK_I++;
        drawDeckSelector(DECK_I);



        URL_PARTS.push('-end');
        console.log('END:', URL_PARTS)

        if (!noUpdateUrl) {
          updateUrl();
        }
      }

      function getDeckN(deckName) {
        for (const d of DECKS) {
          if (d.id === deckName) {
            return d.n;
          }
        }
        return -1;
      }

      function loadDeck(parts, deckI, cardI) {
        if (parts.length < 1) {
          console.error('Missing deck name from', parts);
          return [[], undefined];
        }
        const deckName = parts.shift();
        console.log('deckName', deckName);

        const deckN = getDeckN(deckName);
        if (deckN < 0) {
          console.error('Could not find deck', deckName);
          return [[], undefined];
        }
        console.log('Clicking deck', deckName);
        deckClick(deckN, true);

        while (true) {
          if (parts.length === 0) {
            return [[], undefined];
          }
          const head = parts.shift();
          if (head === 'end') {
            console.log('Clicking end', deckName, parts, cardI);

            endDeck(cardI, true);
            cardI++;

            return [parts, cardI];
          }

          const c = head.split('_');
          if (c.length !== 2) {
            console.error('Could not parse card', c);
            return [[], undefined];
          }
          const [suit, val] = c;
          if (!SUITS.includes(suit)) {
            console.error('Bad suit', c);
            return [[], undefined];
          }
          if (!VALS.includes(val)) {
            console.error('Bad val', c);
            return [[], undefined];
          }

          console.log('Clicking', cardI, suit, val);

          suitClick(cardI, suit, true);
          valClick(cardI, val, true);
          cardI++;
        }
        return [parts, cardI];
      }

      function parseUrl(i) {
          const raw = window.location.href;
          if (raw.includes('code')) {
            CODE = true;
          }
          const sanscode = raw.replace('code', '');

          const params = sanscode.slice(i + 1).split('&');
          if (params.length !== 1) {
            console.log('params.length !== 1=== ', params.length);
            return;
          }
          const p = params[0];
          let parts = p.split('-');
          let deckI = 0;
          let cardI = 0;



          while (parts.length > 0) {
            [parts, cardI] = loadDeck(parts, deckI, cardI);
            deckI++;
          }

          return parts.length;
      }


      function main() {
          // https://stackoverflow.com/questions/4656843/get-querystring-from-url-using-jquery
          const i = window.location.href.indexOf('?');
          if (i >= 0) {
            return parseUrl(i);
          }
          return -1;
      }


      setBase();

      function makeIndex() {
        $("#index").html('');

        for (const suit of SUITS) {
          for (const val of VALS) {
            if (val === 'JR' || val === 'JB') {
              continue;
            }



            let color = 'danger';
            if (suit === 'club' || suit === 'spade') {
              color = 'dark';
            }

            let disabled = ''
            let name;
            if (!(val in DECK.cards[suit])) {
              disabled = 'disabled';
              name = '';
            } else {
              name = DECK.cards[suit][val].name;
            }

            const text = name;


            const button = `
              <button type="button" class="suit suit-club btn btn-${color} btn-sm px-4 gap-3" onclick="cardClick('${suit}', '${val}')" ${disabled}>${UNI[suit]} ${val}</button>
            `
            const entry = `

              <p>${button} ${text}</p>

            `;

            $("#index").append(entry);
          }
        }
      }

      function makeTopics() {
        for (topic of DECK.topics) {
          //console.log(topic);
          $("#code-buttons").append(`

            <p><button type="button" class="btn btn-outline-primary btn-lg px-4 gap-3" onclick="codeClick('${topic.id}')">${topic.name}</button></p>
          `)
        }
      }

      

      function initialize() {
        console.log('initialize');
        $(".not-init").remove();
        DECK = undefined;
        CARDS = [];
        URL_PARTS = [];
        DECK_I = 0;
        drawDeckSelector(DECK_I);
        const partsLength = main();




        if (DECKS.length === 1 && partsLength < 0) {
          deckClick(0);
        }
      }

      initialize();

      
      

    </script>

    <script type="text/javascript">
    </script>

      
  </body>
</html>
